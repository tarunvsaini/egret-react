{"ast":null,"code":"import _objectSpread from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/tarunsaini/Projects/arctic-admin/react/src/app/views/charts/victory-charts/StackedPolarBar.jsx\";\nimport React, { Component } from \"react\";\nimport { VictoryChart, VictoryLabel, VictoryTheme, VictoryPolarAxis, VictoryBar, VictoryStack } from \"victory\";\nimport * as _ from \"lodash\";\nimport { withStyles } from \"@material-ui/styles\";\nvar directions = {\n  0: \"E\",\n  45: \"NE\",\n  90: \"N\",\n  135: \"NW\",\n  180: \"W\",\n  225: \"SW\",\n  270: \"S\",\n  315: \"SE\"\n};\nvar orange = {\n  base: \"gold\",\n  highlight: \"darkOrange\"\n};\nvar red = {\n  base: \"tomato\",\n  highlight: \"orangeRed\"\n};\nvar innerRadius = 30;\n\nvar CompassCenter = /*#__PURE__*/function (_Component) {\n  _inherits(CompassCenter, _Component);\n\n  var _super = _createSuper(CompassCenter);\n\n  function CompassCenter() {\n    _classCallCheck(this, CompassCenter);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CompassCenter, [{\n    key: \"render\",\n    value: function render() {\n      var origin = this.props.origin;\n      var circleStyle = {\n        stroke: red.base,\n        strokeWidth: 2,\n        fill: orange.base\n      };\n      return /*#__PURE__*/React.createElement(\"g\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"circle\", {\n        cx: origin.x,\n        cy: origin.y,\n        r: innerRadius,\n        style: circleStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return CompassCenter;\n}(Component);\n\nvar CenterLabel = /*#__PURE__*/function (_Component2) {\n  _inherits(CenterLabel, _Component2);\n\n  var _super2 = _createSuper(CenterLabel);\n\n  function CenterLabel() {\n    _classCallCheck(this, CenterLabel);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(CenterLabel, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          datum = _this$props.datum,\n          active = _this$props.active,\n          color = _this$props.color,\n          theme = _this$props.theme;\n      var text = [\"\".concat(directions[datum._x]), \"\".concat(Math.round(datum._y1), \" mph\")];\n      var baseStyle = {\n        fill: theme ? theme.palette.text.secondary : color.highlight,\n        textAnchor: \"middle\"\n      };\n      var style = [_objectSpread(_objectSpread({}, baseStyle), {}, {\n        fontSize: 18,\n        fontWeight: \"bold\"\n      })];\n      return active ? /*#__PURE__*/React.createElement(VictoryLabel, {\n        text: text,\n        style: style,\n        x: 175,\n        y: 175,\n        renderInPortal: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }\n      }) : null;\n    }\n  }]);\n\n  return CenterLabel;\n}(Component);\n\nvar StackedPolarBar = /*#__PURE__*/function (_Component3) {\n  _inherits(StackedPolarBar, _Component3);\n\n  var _super3 = _createSuper(StackedPolarBar);\n\n  function StackedPolarBar(props) {\n    var _this;\n\n    _classCallCheck(this, StackedPolarBar);\n\n    _this = _super3.call(this, props);\n    _this.state = {\n      wind: _this.getWindData()\n    };\n    return _this;\n  }\n\n  _createClass(StackedPolarBar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setStateInterval = setInterval(function () {\n        _this2.setState({\n          wind: _this2.getWindData()\n        });\n      }, 4000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.setStateInterval) clearInterval(this.setStateInterval);\n    }\n  }, {\n    key: \"getWindData\",\n    value: function getWindData() {\n      return _.keys(directions).map(function (d) {\n        var speed = Math.floor(_.random() * 17) + 4;\n        return {\n          windSpeed: speed,\n          windGust: speed + _.random(2, 10),\n          windBearing: +d\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var theme = this.props.theme;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"h-320\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(VictoryChart, {\n        polar: true,\n        animate: {\n          duration: 500,\n          onLoad: {\n            duration: 500\n          }\n        },\n        theme: VictoryTheme.material,\n        innerRadius: innerRadius,\n        domainPadding: {\n          y: 10\n        },\n        events: [{\n          childName: \"all\",\n          target: \"data\",\n          eventHandlers: {\n            onMouseOver: function onMouseOver() {\n              return [{\n                target: \"labels\",\n                mutation: function mutation() {\n                  return {\n                    active: true\n                  };\n                }\n              }, {\n                target: \"data\",\n                mutation: function mutation() {\n                  return {\n                    active: true\n                  };\n                }\n              }];\n            },\n            onMouseOut: function onMouseOut() {\n              return [{\n                target: \"labels\",\n                mutation: function mutation() {\n                  return {\n                    active: false\n                  };\n                }\n              }, {\n                target: \"data\",\n                mutation: function mutation() {\n                  return {\n                    active: false\n                  };\n                }\n              }];\n            }\n          }\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(VictoryPolarAxis, {\n        dependentAxis: true,\n        labelPlacement: \"vertical\",\n        style: {\n          axis: {\n            stroke: \"none\"\n          }\n        },\n        tickFormat: function tickFormat() {\n          return \"\";\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(VictoryPolarAxis, {\n        labelPlacement: \"parallel\",\n        tickValues: _.keys(directions).map(function (k) {\n          return +k;\n        }),\n        tickFormat: _.values(directions),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(VictoryStack, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(VictoryBar, {\n        style: {\n          data: {\n            fill: function fill(d, a) {\n              return a ? orange.highlight : orange.base;\n            },\n            width: 40\n          }\n        },\n        data: this.state.wind,\n        x: \"windBearing\",\n        y: \"windSpeed\",\n        labels: function labels() {\n          return \"\";\n        },\n        labelComponent: /*#__PURE__*/React.createElement(CenterLabel, {\n          theme: theme,\n          color: orange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 31\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(VictoryBar, {\n        style: {\n          data: {\n            fill: function fill(d, a) {\n              return a ? red.highlight : red.base;\n            },\n            width: 40\n          }\n        },\n        data: this.state.wind,\n        x: \"windBearing\",\n        y: function y(d) {\n          return d.windGust - d.windSpeed;\n        },\n        labels: function labels() {\n          return \"\";\n        },\n        labelComponent: /*#__PURE__*/React.createElement(CenterLabel, {\n          color: red,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 31\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(CompassCenter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return StackedPolarBar;\n}(Component);\n\nexport default withStyles({}, {\n  withTheme: true\n})(StackedPolarBar);","map":{"version":3,"sources":["/Users/tarunsaini/Projects/arctic-admin/react/src/app/views/charts/victory-charts/StackedPolarBar.jsx"],"names":["React","Component","VictoryChart","VictoryLabel","VictoryTheme","VictoryPolarAxis","VictoryBar","VictoryStack","_","withStyles","directions","orange","base","highlight","red","innerRadius","CompassCenter","origin","props","circleStyle","stroke","strokeWidth","fill","x","y","CenterLabel","datum","active","color","theme","text","_x","Math","round","_y1","baseStyle","palette","secondary","textAnchor","style","fontSize","fontWeight","StackedPolarBar","state","wind","getWindData","setStateInterval","setInterval","setState","clearInterval","keys","map","d","speed","floor","random","windSpeed","windGust","windBearing","duration","onLoad","material","childName","target","eventHandlers","onMouseOver","mutation","onMouseOut","axis","k","values","data","a","width","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  VictoryChart,\n  VictoryLabel,\n  VictoryTheme,\n  VictoryPolarAxis,\n  VictoryBar,\n  VictoryStack\n} from \"victory\";\nimport * as _ from \"lodash\";\nimport { withStyles } from \"@material-ui/styles\";\n\nconst directions = {\n  0: \"E\",\n  45: \"NE\",\n  90: \"N\",\n  135: \"NW\",\n  180: \"W\",\n  225: \"SW\",\n  270: \"S\",\n  315: \"SE\"\n};\n\nconst orange = { base: \"gold\", highlight: \"darkOrange\" };\n\nconst red = { base: \"tomato\", highlight: \"orangeRed\" };\n\nconst innerRadius = 30;\n\nclass CompassCenter extends Component {\n  render() {\n    const { origin } = this.props;\n    const circleStyle = {\n      stroke: red.base,\n      strokeWidth: 2,\n      fill: orange.base\n    };\n    return (\n      <g>\n        <circle\n          cx={origin.x}\n          cy={origin.y}\n          r={innerRadius}\n          style={circleStyle}\n        />\n      </g>\n    );\n  }\n}\n\nclass CenterLabel extends Component {\n  render() {\n    const { datum, active, color, theme } = this.props;\n\n    const text = [`${directions[datum._x]}`, `${Math.round(datum._y1)} mph`];\n    const baseStyle = {\n      fill: theme ? theme.palette.text.secondary : color.highlight,\n      textAnchor: \"middle\"\n    };\n    const style = [{ ...baseStyle, fontSize: 18, fontWeight: \"bold\" }];\n\n    return active ? (\n      <VictoryLabel text={text} style={style} x={175} y={175} renderInPortal />\n    ) : null;\n  }\n}\n\nclass StackedPolarBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { wind: this.getWindData() };\n  }\n\n  componentDidMount() {\n    this.setStateInterval = setInterval(() => {\n      this.setState({ wind: this.getWindData() });\n    }, 4000);\n  }\n\n  componentWillUnmount() {\n    if (this.setStateInterval) clearInterval(this.setStateInterval);\n  }\n\n  getWindData() {\n    return _.keys(directions).map(d => {\n      const speed = Math.floor(_.random() * 17) + 4;\n      return {\n        windSpeed: speed,\n        windGust: speed + _.random(2, 10),\n        windBearing: +d\n      };\n    });\n  }\n\n  render() {\n    let { theme } = this.props;\n\n    return (\n      <div className=\"h-320\">\n        <VictoryChart\n          polar\n          animate={{ duration: 500, onLoad: { duration: 500 } }}\n          theme={VictoryTheme.material}\n          innerRadius={innerRadius}\n          domainPadding={{ y: 10 }}\n          events={[\n            {\n              childName: \"all\",\n              target: \"data\",\n              eventHandlers: {\n                onMouseOver: () => {\n                  return [\n                    { target: \"labels\", mutation: () => ({ active: true }) },\n                    { target: \"data\", mutation: () => ({ active: true }) }\n                  ];\n                },\n                onMouseOut: () => {\n                  return [\n                    { target: \"labels\", mutation: () => ({ active: false }) },\n                    { target: \"data\", mutation: () => ({ active: false }) }\n                  ];\n                }\n              }\n            }\n          ]}\n        >\n          <VictoryPolarAxis\n            dependentAxis\n            labelPlacement=\"vertical\"\n            style={{ axis: { stroke: \"none\" } }}\n            tickFormat={() => \"\"}\n          />\n          <VictoryPolarAxis\n            labelPlacement=\"parallel\"\n            tickValues={_.keys(directions).map(k => +k)}\n            tickFormat={_.values(directions)}\n          />\n          <VictoryStack>\n            <VictoryBar\n              style={{\n                data: {\n                  fill: (d, a) => (a ? orange.highlight : orange.base),\n                  width: 40\n                }\n              }}\n              data={this.state.wind}\n              x=\"windBearing\"\n              y=\"windSpeed\"\n              labels={() => \"\"}\n              labelComponent={<CenterLabel theme={theme} color={orange} />}\n            />\n            <VictoryBar\n              style={{\n                data: {\n                  fill: (d, a) => (a ? red.highlight : red.base),\n                  width: 40\n                }\n              }}\n              data={this.state.wind}\n              x=\"windBearing\"\n              y={d => d.windGust - d.windSpeed}\n              labels={() => \"\"}\n              labelComponent={<CenterLabel color={red} />}\n            />\n          </VictoryStack>\n          <CompassCenter />\n        </VictoryChart>\n      </div>\n    );\n  }\n}\n\nexport default withStyles({}, { withTheme: true })(StackedPolarBar);\n"]},"metadata":{},"sourceType":"module"}