{"ast":null,"code":"import _classCallCheck from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/tarunsaini/Projects/arctic-admin/react/src/app/views/list/InfiniteList.jsx\";\nimport React, { Component } from \"react\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport qwest from \"qwest\";\nimport { Grid, Card, CircularProgress } from \"@material-ui/core\";\nvar api = {\n  baseUrl: \"https://api.soundcloud.com\",\n  client_id: \"caf73ef1e709f839664ab82bef40fa96\"\n};\n\nvar InfiniteList = /*#__PURE__*/function (_Component) {\n  _inherits(InfiniteList, _Component);\n\n  var _super = _createSuper(InfiniteList);\n\n  function InfiniteList() {\n    var _this;\n\n    _classCallCheck(this, InfiniteList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      tracks: [],\n      hasMoreItems: true,\n      nextHref: null\n    };\n\n    _this.loadItems = function (page) {\n      var self = _assertThisInitialized(_this);\n\n      var url = api.baseUrl + \"/users/8665091/favorites\";\n\n      if (_this.state.nextHref) {\n        url = _this.state.nextHref;\n      }\n\n      qwest.get(url, {\n        client_id: api.client_id,\n        linked_partitioning: 1,\n        page_size: 10\n      }, {\n        cache: true\n      }).then(function (xhr, resp) {\n        if (resp) {\n          var tracks = self.state.tracks;\n          resp.collection.map(function (track) {\n            if (track.artwork_url == null) {\n              track.artwork_url = track.user.avatar_url;\n            }\n\n            tracks.push(track);\n            return track;\n          });\n\n          if (resp.next_href) {\n            self.setState({\n              tracks: tracks,\n              nextHref: resp.next_href\n            });\n          } else {\n            self.setState({\n              hasMoreItems: false\n            });\n          }\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(InfiniteList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var loader = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"w-100 text-center pt-24\",\n        key: \"loader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CircularProgress, {\n        variant: \"indeterminate\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }));\n      var items = [];\n      this.state.tracks.map(function (track, i) {\n        items.push( /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          lg: 3,\n          md: 3,\n          xs: 12,\n          sm: 6,\n          className: \"track\",\n          key: track.title,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Card, {\n          className: \"p-16 flex flex-center h-100\",\n          elevation: 6,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: track.permalink_url,\n          className: \"text-center\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: track.artwork_url,\n          width: \"150\",\n          height: \"150\",\n          style: {\n            borderRadius: \"50%\",\n            boxShadow: \"0px 0px 4px rgba(0,0,0, .24)\"\n          },\n          alt: \"albutm cover\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"caption\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }\n        }, track.title)))));\n        return track;\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-30\",\n        style: {\n          height: \"calc(100vh - 140px)\",\n          overflowY: \"auto\",\n          overflowX: \"hidden\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(InfiniteScroll, {\n        pageStart: 0,\n        loadMore: this.loadItems,\n        hasMore: this.state.hasMoreItems,\n        loader: loader,\n        useWindow: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, items)));\n    }\n  }]);\n\n  return InfiniteList;\n}(Component);\n\nexport default InfiniteList;","map":{"version":3,"sources":["/Users/tarunsaini/Projects/arctic-admin/react/src/app/views/list/InfiniteList.jsx"],"names":["React","Component","InfiniteScroll","qwest","Grid","Card","CircularProgress","api","baseUrl","client_id","InfiniteList","state","tracks","hasMoreItems","nextHref","loadItems","page","self","url","get","linked_partitioning","page_size","cache","then","xhr","resp","collection","map","track","artwork_url","user","avatar_url","push","next_href","setState","loader","items","i","title","permalink_url","borderRadius","boxShadow","height","overflowY","overflowX"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport qwest from \"qwest\";\nimport { Grid, Card, CircularProgress } from \"@material-ui/core\";\n\nconst api = {\n  baseUrl: \"https://api.soundcloud.com\",\n  client_id: \"caf73ef1e709f839664ab82bef40fa96\"\n};\n\nclass InfiniteList extends Component {\n  state = {\n    tracks: [],\n    hasMoreItems: true,\n    nextHref: null\n  };\n\n  loadItems = page => {\n    var self = this;\n\n    var url = api.baseUrl + \"/users/8665091/favorites\";\n    if (this.state.nextHref) {\n      url = this.state.nextHref;\n    }\n\n    qwest\n      .get(\n        url,\n        {\n          client_id: api.client_id,\n          linked_partitioning: 1,\n          page_size: 10\n        },\n        {\n          cache: true\n        }\n      )\n      .then(function(xhr, resp) {\n        if (resp) {\n          var tracks = self.state.tracks;\n          resp.collection.map(track => {\n            if (track.artwork_url == null) {\n              track.artwork_url = track.user.avatar_url;\n            }\n\n            tracks.push(track);\n            return track;\n          });\n\n          if (resp.next_href) {\n            self.setState({\n              tracks: tracks,\n              nextHref: resp.next_href\n            });\n          } else {\n            self.setState({\n              hasMoreItems: false\n            });\n          }\n        }\n      });\n  };\n\n  render() {\n    const loader = (\n      <div className=\"w-100 text-center pt-24\" key=\"loader\">\n        <CircularProgress variant=\"indeterminate\"></CircularProgress>\n      </div>\n    );\n\n    var items = [];\n    this.state.tracks.map((track, i) => {\n      items.push(\n        <Grid\n          item\n          lg={3}\n          md={3}\n          xs={12}\n          sm={6}\n          className=\"track\"\n          key={track.title}\n        >\n          <Card className=\"p-16 flex flex-center h-100\" elevation={6}>\n            <a href={track.permalink_url} className=\"text-center\">\n              <img\n                src={track.artwork_url}\n                width=\"150\"\n                height=\"150\"\n                style={{\n                  borderRadius: \"50%\",\n                  boxShadow: \"0px 0px 4px rgba(0,0,0, .24)\"\n                }}\n                alt=\"albutm cover\"\n              />\n              <p className=\"caption\">{track.title}</p>\n            </a>\n          </Card>\n        </Grid>\n      );\n      return track;\n    });\n\n    return (\n      <div\n        className=\"p-30\"\n        style={{\n          height: \"calc(100vh - 140px)\",\n          overflowY: \"auto\",\n          overflowX: \"hidden\"\n        }}\n      >\n        <InfiniteScroll\n          pageStart={0}\n          loadMore={this.loadItems}\n          hasMore={this.state.hasMoreItems}\n          loader={loader}\n          useWindow={false}\n        >\n          <Grid container spacing={2}>\n            {items}\n          </Grid>\n        </InfiniteScroll>\n      </div>\n    );\n  }\n}\n\nexport default InfiniteList;\n"]},"metadata":{},"sourceType":"module"}