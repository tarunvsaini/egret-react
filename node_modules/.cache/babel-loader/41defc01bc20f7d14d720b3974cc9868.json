{"ast":null,"code":"import _classCallCheck from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport axios from \"axios\";\nimport localStorageService from \"./localStorageService\";\n\nvar JwtAuthService = function JwtAuthService() {\n  var _this = this;\n\n  _classCallCheck(this, JwtAuthService);\n\n  this.user = {\n    userId: \"1\",\n    role: 'ADMIN',\n    displayName: \"Watson Joyce\",\n    email: \"watsonjoyce@gmail.com\",\n    photoURL: \"/assets/images/face-7.jpg\",\n    age: 25,\n    token: \"faslkhfh423oiu4h4kj432rkj23h432u49ufjaklj423h4jkhkjh\"\n  };\n\n  this.loginWithEmailAndPassword = function (email, password) {\n    return new Promise(function (resolve, reject) {\n      setTimeout(function () {\n        resolve(_this.user);\n      }, 1000);\n    }).then(function (data) {\n      _this.setSession(data.token);\n\n      _this.setUser(data);\n\n      return data;\n    });\n  };\n\n  this.loginWithToken = function () {\n    return new Promise(function (resolve, reject) {\n      setTimeout(function () {\n        resolve(_this.user);\n      }, 100);\n    }).then(function (data) {\n      _this.setSession(data.token);\n\n      _this.setUser(data);\n\n      return data;\n    });\n  };\n\n  this.logout = function () {\n    _this.setSession(null);\n\n    _this.removeUser();\n  };\n\n  this.setSession = function (token) {\n    if (token) {\n      localStorage.setItem(\"jwt_token\", token);\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n    } else {\n      localStorage.removeItem(\"jwt_token\");\n      delete axios.defaults.headers.common[\"Authorization\"];\n    }\n  };\n\n  this.setUser = function (user) {\n    localStorageService.setItem(\"auth_user\", user);\n  };\n\n  this.removeUser = function () {\n    localStorage.removeItem(\"auth_user\");\n  };\n};\n\nexport default new JwtAuthService();","map":{"version":3,"sources":["/Users/tarunsaini/Projects/arctic-admin/react/src/app/services/jwtAuthService.js"],"names":["axios","localStorageService","JwtAuthService","user","userId","role","displayName","email","photoURL","age","token","loginWithEmailAndPassword","password","Promise","resolve","reject","setTimeout","then","data","setSession","setUser","loginWithToken","logout","removeUser","localStorage","setItem","defaults","headers","common","removeItem"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;;IAEMC,c;;;;;OAEJC,I,GAAO;AACLC,IAAAA,MAAM,EAAE,GADH;AAELC,IAAAA,IAAI,EAAE,OAFD;AAGLC,IAAAA,WAAW,EAAE,cAHR;AAILC,IAAAA,KAAK,EAAE,uBAJF;AAKLC,IAAAA,QAAQ,EAAE,2BALL;AAMLC,IAAAA,GAAG,EAAE,EANA;AAOLC,IAAAA,KAAK,EAAE;AAPF,G;;OAUPC,yB,GAA4B,UAACJ,KAAD,EAAQK,QAAR,EAAqB;AAC/C,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,MAAAA,UAAU,CAAC,YAAM;AACfF,QAAAA,OAAO,CAAC,KAAI,CAACX,IAAN,CAAP;AACD,OAFS,EAEP,IAFO,CAAV;AAGD,KAJM,EAIJc,IAJI,CAIC,UAAAC,IAAI,EAAI;AACd,MAAA,KAAI,CAACC,UAAL,CAAgBD,IAAI,CAACR,KAArB;;AACA,MAAA,KAAI,CAACU,OAAL,CAAaF,IAAb;;AACA,aAAOA,IAAP;AACD,KARM,CAAP;AASD,G;;OAEDG,c,GAAiB,YAAM;AACrB,WAAO,IAAIR,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,MAAAA,UAAU,CAAC,YAAM;AACfF,QAAAA,OAAO,CAAC,KAAI,CAACX,IAAN,CAAP;AACD,OAFS,EAEP,GAFO,CAAV;AAGD,KAJM,EAIJc,IAJI,CAIC,UAAAC,IAAI,EAAI;AACd,MAAA,KAAI,CAACC,UAAL,CAAgBD,IAAI,CAACR,KAArB;;AACA,MAAA,KAAI,CAACU,OAAL,CAAaF,IAAb;;AACA,aAAOA,IAAP;AACD,KARM,CAAP;AASD,G;;OAIDI,M,GAAS,YAAM;AACb,IAAA,KAAI,CAACH,UAAL,CAAgB,IAAhB;;AACA,IAAA,KAAI,CAACI,UAAL;AACD,G;;OAEDJ,U,GAAa,UAAAT,KAAK,EAAI;AACpB,QAAIA,KAAJ,EAAW;AACTc,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCf,KAAlC;AACAV,MAAAA,KAAK,CAAC0B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYlB,KAA7D;AACD,KAHD,MAGO;AACLc,MAAAA,YAAY,CAACK,UAAb,CAAwB,WAAxB;AACA,aAAO7B,KAAK,CAAC0B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP;AACD;AACF,G;;OACDR,O,GAAU,UAACjB,IAAD,EAAU;AAClBF,IAAAA,mBAAmB,CAACwB,OAApB,CAA4B,WAA5B,EAAyCtB,IAAzC;AACD,G;;OACDoB,U,GAAa,YAAM;AACjBC,IAAAA,YAAY,CAACK,UAAb,CAAwB,WAAxB;AACD,G;;;AAGH,eAAe,IAAI3B,cAAJ,EAAf","sourcesContent":["import axios from \"axios\";\nimport localStorageService from \"./localStorageService\";\n\nclass JwtAuthService {\n\n  user = {\n    userId: \"1\",\n    role: 'ADMIN',\n    displayName: \"Watson Joyce\",\n    email: \"watsonjoyce@gmail.com\",\n    photoURL: \"/assets/images/face-7.jpg\",\n    age: 25,\n    token: \"faslkhfh423oiu4h4kj432rkj23h432u49ufjaklj423h4jkhkjh\"\n  }\n\n  loginWithEmailAndPassword = (email, password) => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(this.user);\n      }, 1000);\n    }).then(data => {\n      this.setSession(data.token);\n      this.setUser(data);\n      return data;\n    });\n  };\n\n  loginWithToken = () => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve(this.user);\n      }, 100);\n    }).then(data => {\n      this.setSession(data.token);\n      this.setUser(data);\n      return data;\n    });\n  };\n\n  \n\n  logout = () => {\n    this.setSession(null);\n    this.removeUser();\n  }\n\n  setSession = token => {\n    if (token) {\n      localStorage.setItem(\"jwt_token\", token);\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n    } else {\n      localStorage.removeItem(\"jwt_token\");\n      delete axios.defaults.headers.common[\"Authorization\"];\n    }\n  };\n  setUser = (user) => {    \n    localStorageService.setItem(\"auth_user\", user);\n  }\n  removeUser = () => {\n    localStorage.removeItem(\"auth_user\");\n  }\n}\n\nexport default new JwtAuthService();\n"]},"metadata":{},"sourceType":"module"}