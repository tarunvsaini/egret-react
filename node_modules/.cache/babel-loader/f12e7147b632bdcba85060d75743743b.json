{"ast":null,"code":"import _defineProperty from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/tarunsaini/Projects/arctic-admin/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/tarunsaini/Projects/arctic-admin/react/src/app/views/todo/TodoEditor.jsx\";\nimport React, { Component } from \"react\";\nimport { Card, IconButton, Icon, FormControlLabel, Checkbox, Chip, Button, Grid, MenuItem, Tooltip, Hidden } from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport { Link } from \"react-router-dom\";\nimport { getTodoById, getAllTodoTag, updateTodoById, deleteTodo, addTodo } from \"./TodoService\";\nimport { EgretMenu } from \"egret\";\nimport TagDialog from \"./TagDialog\";\n\nvar TodoEditor = /*#__PURE__*/function (_Component) {\n  _inherits(TodoEditor, _Component);\n\n  var _super = _createSuper(TodoEditor);\n\n  function TodoEditor() {\n    var _this;\n\n    _classCallCheck(this, TodoEditor);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      todo: {\n        title: \"\",\n        note: \"\",\n        done: false,\n        read: false,\n        starred: false,\n        important: false,\n        startDate: new Date(),\n        dueDate: new Date(),\n        tag: []\n      },\n      tagList: [],\n      shouldOpenTagDialog: false\n    };\n\n    _this.addNewTodo = function () {\n      var id = _this.state.tagList.length + 1;\n      addTodo(_objectSpread(_objectSpread({}, _this.state.todo), {}, {\n        id: id\n      })).then(function () {\n        _this.props.history.push(\"/todo/list\");\n      });\n    };\n\n    _this.updateTodo = function (todo) {\n      updateTodoById(todo);\n\n      _this.setState({\n        todo: _objectSpread(_objectSpread({}, _this.state.todo), todo)\n      });\n    };\n\n    _this.reloadTagList = function () {\n      getAllTodoTag().then(function (_ref) {\n        var data = _ref.data;\n\n        _this.setState({\n          tagList: _toConsumableArray(data)\n        });\n      });\n    };\n\n    _this.addTagInTodo = function (id) {\n      var tag = _this.state.todo.tag;\n\n      if (!tag.includes(id)) {\n        tag.push(id);\n\n        _this.setState({\n          todo: _objectSpread(_objectSpread({}, _this.state.todo), {}, {\n            tag: tag\n          })\n        });\n      }\n    };\n\n    _this.handleTagDelete = function (tagId) {\n      var _this$state$todo$tag = _this.state.todo.tag,\n          tagList = _this$state$todo$tag === void 0 ? [] : _this$state$todo$tag;\n      tagList = tagList.filter(function (id) {\n        return id !== tagId;\n      });\n\n      _this.setState({\n        todo: _objectSpread(_objectSpread({}, _this.state.todo), {}, {\n          tag: _toConsumableArray(tagList)\n        })\n      }, function () {\n        return updateTodoById(_objectSpread({}, _this.state.todo));\n      });\n    };\n\n    _this.handleTodoDelete = function () {\n      deleteTodo(_objectSpread({}, _this.state.todo)).then(function () {\n        _this.props.history.push(\"/todo/list\");\n      });\n    };\n\n    _this.handleChange = function (event) {\n      event.persist();\n\n      _this.setState({\n        todo: _objectSpread(_objectSpread({}, _this.state.todo), {}, _defineProperty({}, event.target.name, event.target.value))\n      });\n    };\n\n    _this.handleDateChange = function (filedName, date) {\n      _this.setState(_this.setState({\n        todo: _objectSpread(_objectSpread({}, _this.state.todo), {}, _defineProperty({}, filedName, date))\n      }));\n    };\n\n    _this.handleSubmit = function (event) {\n      var todoId = _this.props.match.params.id;\n\n      if (todoId === \"add\") {\n        _this.addNewTodo();\n      } else {\n        updateTodoById(_objectSpread({}, _this.state.todo)).then(function () {\n          _this.props.history.push(\"/todo/list\");\n        });\n      }\n    };\n\n    _this.handleTagDialogToggle = function () {\n      _this.setState({\n        shouldOpenTagDialog: !_this.state.shouldOpenTagDialog\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TodoEditor, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var todoId = this.props.match.params.id;\n      getAllTodoTag().then(function (_ref2) {\n        var tagList = _ref2.data;\n\n        if (todoId !== \"add\") {\n          getTodoById(todoId).then(function (_ref3) {\n            var data = _ref3.data;\n\n            if (!data) {\n              _this2.props.history.push(\"/todo/list\");\n\n              return;\n            }\n\n            _this2.setState({\n              todo: _objectSpread({}, data),\n              tagList: _toConsumableArray(tagList)\n            });\n          });\n        } else {\n          _this2.setState({\n            tagList: tagList\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state$todo = this.state.todo,\n          title = _this$state$todo.title,\n          note = _this$state$todo.note,\n          done = _this$state$todo.done,\n          read = _this$state$todo.read,\n          starred = _this$state$todo.starred,\n          important = _this$state$todo.important,\n          startDate = _this$state$todo.startDate,\n          dueDate = _this$state$todo.dueDate,\n          _this$state$todo$tag2 = _this$state$todo.tag,\n          tagIdList = _this$state$todo$tag2 === void 0 ? [] : _this$state$todo$tag2;\n      var tagList = this.state.tagList;\n      return /*#__PURE__*/React.createElement(Card, {\n        className: \"todo-editor position-relative m-sm-30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editor__topbar bg-light-gray py-8 flex flex-wrap flex-middle flex-space-between\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-wrap flex-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/todo/list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }, \"arrow_back\"))), /*#__PURE__*/React.createElement(Hidden, {\n        smDown: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        className: \"ml-4\",\n        onChange: function onChange() {\n          return _this3.updateTodo(_objectSpread(_objectSpread({}, _this3.state), {}, {\n            done: !done\n          }));\n        },\n        control: /*#__PURE__*/React.createElement(Checkbox, {\n          checked: done,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 26\n          }\n        }),\n        label: \"Mark As \".concat(done ? \"Und\" : \"D\", \"one\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Mark As \".concat(read ? \"Unr\" : \"R\", \"ead\"),\n        fontSize: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: function onClick() {\n          return _this3.updateTodo(_objectSpread(_objectSpread({}, _this3.state), {}, {\n            read: !read\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 17\n        }\n      }, read ? \"drafts\" : \"markunread\"))), /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Mark As \".concat(important ? \"Uni\" : \"I\", \"mportant\"),\n        fontSize: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: function onClick() {\n          return _this3.updateTodo(_objectSpread(_objectSpread({}, _this3.state), {}, {\n            important: !important\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        color: important ? \"error\" : \"inherit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 17\n        }\n      }, important ? \"error\" : \"error_outline\"))), /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Mark As \".concat(starred ? \"Uns\" : \"S\", \"tarred\"),\n        fontSize: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: function onClick() {\n          return _this3.updateTodo(_objectSpread(_objectSpread({}, _this3.state), {}, {\n            starred: !starred\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        color: starred ? \"secondary\" : \"inherit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 17\n        }\n      }, starred ? \"star\" : \"star_outline\"))), /*#__PURE__*/React.createElement(Hidden, {\n        smDown: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Manage tags\",\n        fontSize: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: this.handleTagDialogToggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 19\n        }\n      }, \"library_add\")))), /*#__PURE__*/React.createElement(EgretMenu, {\n        menuButton: /*#__PURE__*/React.createElement(Tooltip, {\n          title: \"Add tags\",\n          fontSize: \"large\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(IconButton, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 21\n          }\n        }, \"label\"))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }\n      }, this.state.tagList.map(function (tag) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          className: \"capitalize\",\n          key: tag.id,\n          onClick: function onClick() {\n            return _this3.addTagInTodo(tag.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }\n        }, tag.name);\n      })), /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Delete\",\n        fontSize: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        onClick: this.handleTodoDelete,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 17\n        }\n      }, \"delete_outline\"))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editor__form p-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"my-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }\n      }, tagIdList.map(function (tagId) {\n        var tagName = (tagList.find(function (tag) {\n          return tag.id === tagId;\n        }) || {}).name;\n        if (!tagName) return null;else return /*#__PURE__*/React.createElement(Chip, {\n          className: \"capitalize mr-8\",\n          key: tagId,\n          label: tagName,\n          onDelete: function onDelete() {\n            return _this3.handleTagDelete(tagId);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 19\n          }\n        });\n      })), /*#__PURE__*/React.createElement(ValidatorForm, {\n        ref: \"form\",\n        onSubmit: this.handleSubmit,\n        onError: function onError(errors) {\n          return null;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        className: \"mb-16 w-100\",\n        label: \"Title*\",\n        onChange: this.handleChange,\n        type: \"text\",\n        name: \"title\",\n        value: title,\n        validators: [\"required\"],\n        errorMessages: [\"this field is required\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(TextValidator, {\n        className: \"mb-16 w-100\",\n        label: \"Put your notes*\",\n        onChange: this.handleChange,\n        type: \"text\",\n        name: \"note\",\n        multiline: true,\n        value: note,\n        validators: [\"required\"],\n        errorMessages: [\"this field is required\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 3,\n        md: 4,\n        sm: 12,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n        margin: \"none\",\n        id: \"mui-pickers-date\",\n        label: \"Start Date*\",\n        inputVariant: \"standard\",\n        type: \"text\",\n        autoOk: true,\n        value: new Date(startDate),\n        onChange: function onChange(date) {\n          return _this3.handleDateChange(\"startDate\", date);\n        },\n        KeyboardButtonProps: {\n          \"aria-label\": \"change date\"\n        },\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 3,\n        md: 4,\n        sm: 12,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n        margin: \"none\",\n        id: \"mui-pickers-date\",\n        label: \"End Date*\",\n        inputVariant: \"standard\",\n        type: \"text\",\n        autoOk: true,\n        value: new Date(dueDate),\n        onChange: function onChange(date) {\n          return _this3.handleDateChange(\"dueDate\", date);\n        },\n        KeyboardButtonProps: {\n          \"aria-label\": \"change date\"\n        },\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }\n      }))))), /*#__PURE__*/React.createElement(Link, {\n        to: \"/todo/list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"mr-16\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 15\n        }\n      }, \"cancel\")), /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        variant: \"contained\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }\n      }, \"save\"))), /*#__PURE__*/React.createElement(TagDialog, {\n        reloadTagList: this.reloadTagList,\n        open: this.state.shouldOpenTagDialog,\n        handleClose: this.handleTagDialogToggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return TodoEditor;\n}(Component);\n\nexport default TodoEditor;","map":{"version":3,"sources":["/Users/tarunsaini/Projects/arctic-admin/react/src/app/views/todo/TodoEditor.jsx"],"names":["React","Component","Card","IconButton","Icon","FormControlLabel","Checkbox","Chip","Button","Grid","MenuItem","Tooltip","Hidden","MuiPickersUtilsProvider","KeyboardDatePicker","DateFnsUtils","ValidatorForm","TextValidator","Link","getTodoById","getAllTodoTag","updateTodoById","deleteTodo","addTodo","EgretMenu","TagDialog","TodoEditor","state","todo","title","note","done","read","starred","important","startDate","Date","dueDate","tag","tagList","shouldOpenTagDialog","addNewTodo","id","length","then","props","history","push","updateTodo","setState","reloadTagList","data","addTagInTodo","includes","handleTagDelete","tagId","filter","handleTodoDelete","handleChange","event","persist","target","name","value","handleDateChange","filedName","date","handleSubmit","todoId","match","params","handleTagDialogToggle","tagIdList","map","tagName","find","errors"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Card,\n  IconButton,\n  Icon,\n  FormControlLabel,\n  Checkbox,\n  Chip,\n  Button,\n  Grid,\n  MenuItem,\n  Tooltip,\n  Hidden\n} from \"@material-ui/core\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker\n} from \"@material-ui/pickers\";\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport { Link } from \"react-router-dom\";\nimport {\n  getTodoById,\n  getAllTodoTag,\n  updateTodoById,\n  deleteTodo,\n  addTodo\n} from \"./TodoService\";\nimport {EgretMenu} from \"egret\";\nimport TagDialog from \"./TagDialog\";\n\nclass TodoEditor extends Component {\n  state = {\n    todo: {\n      title: \"\",\n      note: \"\",\n      done: false,\n      read: false,\n      starred: false,\n      important: false,\n      startDate: new Date(),\n      dueDate: new Date(),\n      tag: []\n    },\n    tagList: [],\n    shouldOpenTagDialog: false\n  };\n\n  componentWillMount() {\n    let { id: todoId } = this.props.match.params;\n\n    getAllTodoTag().then(({ data: tagList }) => {\n      if (todoId !== \"add\") {\n        getTodoById(todoId).then(({ data }) => {\n          if (!data) {\n            this.props.history.push(\"/todo/list\");\n            return;\n          }\n          this.setState({\n            todo: { ...data },\n            tagList: [...tagList]\n          });\n        });\n      } else {\n        this.setState({\n          tagList\n        });\n      }\n    });\n  }\n\n  addNewTodo = () => {\n    let id = this.state.tagList.length + 1;\n    addTodo({ ...this.state.todo, id }).then(() => {\n      this.props.history.push(\"/todo/list\");\n    });\n  };\n\n  updateTodo = todo => {\n    updateTodoById(todo);\n    this.setState({\n      todo: {\n        ...this.state.todo,\n        ...todo\n      }\n    });\n  };\n\n  reloadTagList = () => {\n    getAllTodoTag().then(({ data }) => {\n      this.setState({\n        tagList: [...data]\n      });\n    });\n  };\n\n  addTagInTodo = id => {\n    let { tag } = this.state.todo;\n    if (!tag.includes(id)) {\n      tag.push(id);\n      this.setState({\n        todo: {\n          ...this.state.todo,\n          tag\n        }\n      });\n    }\n  };\n\n  handleTagDelete = tagId => {\n    let { tag: tagList = [] } = this.state.todo;\n    tagList = tagList.filter(id => id !== tagId);\n    this.setState(\n      {\n        todo: {\n          ...this.state.todo,\n          tag: [...tagList]\n        }\n      },\n      () => updateTodoById({ ...this.state.todo })\n    );\n  };\n\n  handleTodoDelete = () => {\n    deleteTodo({ ...this.state.todo }).then(() => {\n      this.props.history.push(\"/todo/list\");\n    });\n  };\n\n  handleChange = event => {\n    event.persist();\n    this.setState({\n      todo: {\n        ...this.state.todo,\n        [event.target.name]: event.target.value\n      }\n    });\n  };\n\n  handleDateChange = (filedName, date) => {\n    this.setState(\n      this.setState({\n        todo: {\n          ...this.state.todo,\n          [filedName]: date\n        }\n      })\n    );\n  };\n\n  handleSubmit = event => {\n    let { id: todoId } = this.props.match.params;\n\n    if (todoId === \"add\") {\n      this.addNewTodo();\n    } else {\n      updateTodoById({ ...this.state.todo }).then(() => {\n        this.props.history.push(\"/todo/list\");\n      });\n    }\n  };\n\n  handleTagDialogToggle = () => {\n    this.setState({\n      shouldOpenTagDialog: !this.state.shouldOpenTagDialog\n    });\n  };\n\n  render() {\n    let {\n      title,\n      note,\n      done,\n      read,\n      starred,\n      important,\n      startDate,\n      dueDate,\n      tag: tagIdList = []\n    } = this.state.todo;\n    let { tagList } = this.state;\n\n    return (\n      <Card className=\"todo-editor position-relative m-sm-30\">\n        <div className=\"editor__topbar bg-light-gray py-8 flex flex-wrap flex-middle flex-space-between\">\n          <div className=\"flex flex-wrap flex-middle\">\n            <Link to=\"/todo/list\">\n              <IconButton>\n                <Icon>arrow_back</Icon>\n              </IconButton>\n            </Link>\n            <Hidden smDown>\n              <FormControlLabel\n                className=\"ml-4\"\n                onChange={() => this.updateTodo({ ...this.state, done: !done })}\n                control={<Checkbox checked={done} />}\n                label={`Mark As ${done ? \"Und\" : \"D\"}one`}\n              />\n            </Hidden>\n          </div>\n          <div className=\"flex flex-wrap\">\n            <Tooltip\n              title={`Mark As ${read ? \"Unr\" : \"R\"}ead`}\n              fontSize=\"large\"\n            >\n              <IconButton\n                onClick={() => this.updateTodo({ ...this.state, read: !read })}\n              >\n                <Icon>{read ? \"drafts\" : \"markunread\"}</Icon>\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip\n              title={`Mark As ${important ? \"Uni\" : \"I\"}mportant`}\n              fontSize=\"large\"\n            >\n              <IconButton\n                onClick={() =>\n                  this.updateTodo({ ...this.state, important: !important })\n                }\n              >\n                <Icon color={important ? \"error\" : \"inherit\"}>\n                  {important ? \"error\" : \"error_outline\"}\n                </Icon>\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip\n              title={`Mark As ${starred ? \"Uns\" : \"S\"}tarred`}\n              fontSize=\"large\"\n            >\n              <IconButton\n                onClick={() =>\n                  this.updateTodo({ ...this.state, starred: !starred })\n                }\n              >\n                <Icon color={starred ? \"secondary\" : \"inherit\"}>\n                  {starred ? \"star\" : \"star_outline\"}\n                </Icon>\n              </IconButton>\n            </Tooltip>\n\n            <Hidden smDown>\n              <Tooltip title=\"Manage tags\" fontSize=\"large\">\n                <IconButton onClick={this.handleTagDialogToggle}>\n                  <Icon>library_add</Icon>\n                </IconButton>\n              </Tooltip>\n            </Hidden>\n\n            <EgretMenu\n              menuButton={\n                <Tooltip title=\"Add tags\" fontSize=\"large\">\n                  <IconButton>\n                    <Icon>label</Icon>\n                  </IconButton>\n                </Tooltip>\n              }\n            >\n              {this.state.tagList.map(tag => (\n                <MenuItem\n                  className=\"capitalize\"\n                  key={tag.id}\n                  onClick={() => this.addTagInTodo(tag.id)}\n                >\n                  {tag.name}\n                </MenuItem>\n              ))}\n            </EgretMenu>\n\n            <Tooltip title=\"Delete\" fontSize=\"large\">\n              <IconButton onClick={this.handleTodoDelete}>\n                <Icon>delete_outline</Icon>\n              </IconButton>\n            </Tooltip>\n          </div>\n        </div>\n\n        <div className=\"editor__form p-16\">\n          <div className=\"my-16\">\n            {tagIdList.map(tagId => {\n              let tagName = (tagList.find(tag => tag.id === tagId) || {}).name;\n              if (!tagName) return null;\n              else\n                return (\n                  <Chip\n                    className=\"capitalize mr-8\"\n                    key={tagId}\n                    label={tagName}\n                    onDelete={() => this.handleTagDelete(tagId)}\n                  />\n                );\n            })}\n          </div>\n\n          <ValidatorForm\n            ref=\"form\"\n            onSubmit={this.handleSubmit}\n            onError={errors => null}\n          >\n            <TextValidator\n              className=\"mb-16 w-100\"\n              label=\"Title*\"\n              onChange={this.handleChange}\n              type=\"text\"\n              name=\"title\"\n              value={title}\n              validators={[\"required\"]}\n              errorMessages={[\"this field is required\"]}\n            />\n            <TextValidator\n              className=\"mb-16 w-100\"\n              label=\"Put your notes*\"\n              onChange={this.handleChange}\n              type=\"text\"\n              name=\"note\"\n              multiline={true}\n              value={note}\n              validators={[\"required\"]}\n              errorMessages={[\"this field is required\"]}\n            />\n            <div className=\"mb-16\">\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <Grid container spacing={2}>\n                  <Grid item lg={3} md={4} sm={12} xs={12}>\n                    <KeyboardDatePicker\n                      margin=\"none\"\n                      id=\"mui-pickers-date\"\n                      label=\"Start Date*\"\n                      inputVariant=\"standard\"\n                      type=\"text\"\n                      autoOk={true}\n                      value={new Date(startDate)}\n                      onChange={date =>\n                        this.handleDateChange(\"startDate\", date)\n                      }\n                      KeyboardButtonProps={{\n                        \"aria-label\": \"change date\"\n                      }}\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid item lg={3} md={4} sm={12} xs={12}>\n                    <KeyboardDatePicker\n                      margin=\"none\"\n                      id=\"mui-pickers-date\"\n                      label=\"End Date*\"\n                      inputVariant=\"standard\"\n                      type=\"text\"\n                      autoOk={true}\n                      value={new Date(dueDate)}\n                      onChange={date => this.handleDateChange(\"dueDate\", date)}\n                      KeyboardButtonProps={{\n                        \"aria-label\": \"change date\"\n                      }}\n                      fullWidth\n                    />\n                  </Grid>\n                </Grid>\n              </MuiPickersUtilsProvider>\n            </div>\n            <Link to=\"/todo/list\">\n              <Button className=\"mr-16\" type=\"submit\">\n                cancel\n              </Button>\n            </Link>\n            <Button color=\"primary\" variant=\"contained\" type=\"submit\">\n              save\n            </Button>\n          </ValidatorForm>\n        </div>\n        <TagDialog\n          reloadTagList={this.reloadTagList}\n          open={this.state.shouldOpenTagDialog}\n          handleClose={this.handleTagDialogToggle}\n        />\n      </Card>\n    );\n  }\n}\n\nexport default TodoEditor;\n"]},"metadata":{},"sourceType":"module"}